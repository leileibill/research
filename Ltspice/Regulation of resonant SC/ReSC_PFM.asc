Version 4
SHEET 1 1904 1716
WIRE -1472 -64 -1504 -64
WIRE -1360 -64 -1408 -64
WIRE -1248 -64 -1264 -64
WIRE -1136 -64 -1184 -64
WIRE -688 -64 -720 -64
WIRE -592 -64 -624 -64
WIRE -464 -64 -496 -64
WIRE -368 -64 -400 -64
WIRE -1504 80 -1504 -64
WIRE -1504 80 -1616 80
WIRE -1472 80 -1504 80
WIRE -1360 80 -1360 -64
WIRE -1360 80 -1392 80
WIRE -1328 80 -1360 80
WIRE -1312 80 -1328 80
WIRE -1264 80 -1264 -64
WIRE -1264 80 -1312 80
WIRE -1248 80 -1264 80
WIRE -1136 80 -1136 -64
WIRE -1136 80 -1168 80
WIRE -1104 80 -1136 80
WIRE -1088 80 -1104 80
WIRE -752 80 -880 80
WIRE -720 80 -720 -64
WIRE -720 80 -752 80
WIRE -688 80 -720 80
WIRE -592 80 -592 -64
WIRE -592 80 -608 80
WIRE -544 80 -592 80
WIRE -528 80 -544 80
WIRE -496 80 -496 -64
WIRE -496 80 -528 80
WIRE -464 80 -496 80
WIRE -368 80 -368 -64
WIRE -368 80 -384 80
WIRE -240 80 -368 80
WIRE -1104 128 -1104 80
WIRE -1616 144 -1616 80
WIRE -1328 192 -1328 80
WIRE -1104 192 -1104 128
WIRE -1088 192 -1104 192
WIRE -960 192 -1008 192
WIRE -880 192 -880 80
WIRE -880 192 -960 192
WIRE -544 192 -544 80
WIRE -240 192 -240 80
WIRE -112 192 -240 192
WIRE -16 192 -32 192
WIRE 16 192 -16 192
WIRE 64 192 16 192
WIRE 96 192 64 192
WIRE -880 240 -880 192
WIRE 16 240 16 192
WIRE 96 240 96 192
WIRE -1376 272 -1424 272
WIRE -1248 272 -1264 272
WIRE -1152 272 -1184 272
WIRE -592 272 -640 272
WIRE -384 272 -432 272
WIRE -1616 352 -1616 224
WIRE -1488 352 -1488 272
WIRE -1488 352 -1616 352
WIRE -1472 352 -1488 352
WIRE -1376 352 -1376 272
WIRE -1376 352 -1392 352
WIRE -1328 352 -1328 256
WIRE -1328 352 -1376 352
WIRE -1312 352 -1328 352
WIRE -1264 352 -1264 272
WIRE -1264 352 -1312 352
WIRE -1248 352 -1264 352
WIRE -1168 352 -1184 352
WIRE -1152 352 -1152 272
WIRE -1152 352 -1168 352
WIRE -1104 352 -1104 192
WIRE -1104 352 -1152 352
WIRE -880 352 -880 304
WIRE -880 352 -912 352
WIRE -704 352 -704 272
WIRE -704 352 -880 352
WIRE -688 352 -704 352
WIRE -592 352 -592 272
WIRE -592 352 -608 352
WIRE -544 352 -544 256
WIRE -544 352 -592 352
WIRE -528 352 -544 352
WIRE -496 352 -496 272
WIRE -496 352 -528 352
WIRE -480 352 -496 352
WIRE -384 352 -384 272
WIRE -384 352 -400 352
WIRE -240 352 -240 192
WIRE -240 352 -384 352
WIRE 16 352 16 320
WIRE 64 352 16 352
WIRE 96 352 96 304
WIRE 96 352 64 352
WIRE -1616 384 -1616 352
WIRE -912 384 -912 352
WIRE 64 384 64 352
WIRE -1488 576 -1520 576
WIRE -1376 576 -1424 576
WIRE -1264 576 -1280 576
WIRE -1152 576 -1200 576
WIRE -704 576 -736 576
WIRE -608 576 -640 576
WIRE -480 576 -512 576
WIRE -384 576 -416 576
WIRE -1520 720 -1520 576
WIRE -1520 720 -1632 720
WIRE -1488 720 -1520 720
WIRE -1376 720 -1376 576
WIRE -1376 720 -1408 720
WIRE -1344 720 -1376 720
WIRE -1328 720 -1344 720
WIRE -1280 720 -1280 576
WIRE -1280 720 -1328 720
WIRE -1264 720 -1280 720
WIRE -1152 720 -1152 576
WIRE -1152 720 -1184 720
WIRE -1120 720 -1152 720
WIRE -1104 720 -1120 720
WIRE -768 720 -896 720
WIRE -736 720 -736 576
WIRE -736 720 -768 720
WIRE -704 720 -736 720
WIRE -608 720 -608 576
WIRE -608 720 -624 720
WIRE -560 720 -608 720
WIRE -544 720 -560 720
WIRE -512 720 -512 576
WIRE -512 720 -544 720
WIRE -480 720 -512 720
WIRE -384 720 -384 576
WIRE -384 720 -400 720
WIRE -256 720 -384 720
WIRE -1120 768 -1120 720
WIRE -1632 784 -1632 720
WIRE -1344 832 -1344 720
WIRE -1120 832 -1120 768
WIRE -1104 832 -1120 832
WIRE -960 832 -960 192
WIRE -960 832 -1024 832
WIRE -896 832 -896 720
WIRE -896 832 -960 832
WIRE -560 832 -560 720
WIRE -256 832 -256 720
WIRE -128 832 -256 832
WIRE -16 832 -16 192
WIRE -16 832 -48 832
WIRE 0 832 -16 832
WIRE 48 832 0 832
WIRE 80 832 48 832
WIRE -896 880 -896 832
WIRE 0 880 0 832
WIRE 80 880 80 832
WIRE -1392 912 -1440 912
WIRE -1264 912 -1280 912
WIRE -1168 912 -1200 912
WIRE -608 912 -656 912
WIRE -400 912 -448 912
WIRE -1632 992 -1632 864
WIRE -1504 992 -1504 912
WIRE -1504 992 -1632 992
WIRE -1488 992 -1504 992
WIRE -1392 992 -1392 912
WIRE -1392 992 -1408 992
WIRE -1344 992 -1344 896
WIRE -1344 992 -1392 992
WIRE -1328 992 -1344 992
WIRE -1280 992 -1280 912
WIRE -1280 992 -1328 992
WIRE -1264 992 -1280 992
WIRE -1184 992 -1200 992
WIRE -1168 992 -1168 912
WIRE -1168 992 -1184 992
WIRE -1120 992 -1120 832
WIRE -1120 992 -1168 992
WIRE -896 992 -896 944
WIRE -896 992 -928 992
WIRE -720 992 -720 912
WIRE -720 992 -896 992
WIRE -704 992 -720 992
WIRE -608 992 -608 912
WIRE -608 992 -624 992
WIRE -560 992 -560 896
WIRE -560 992 -608 992
WIRE -544 992 -560 992
WIRE -512 992 -512 912
WIRE -512 992 -544 992
WIRE -496 992 -512 992
WIRE -400 992 -400 912
WIRE -400 992 -416 992
WIRE -256 992 -256 832
WIRE -256 992 -400 992
WIRE 0 992 0 960
WIRE 48 992 0 992
WIRE 80 992 80 944
WIRE 80 992 48 992
WIRE -1632 1024 -1632 992
WIRE -928 1024 -928 992
WIRE 48 1024 48 992
WIRE -1312 1328 -1312 1280
WIRE -1088 1328 -1088 1280
WIRE -864 1328 -864 1280
WIRE -704 1328 -704 1280
WIRE -1312 1616 -1312 1568
WIRE -1088 1616 -1088 1568
WIRE -864 1616 -864 1568
WIRE -704 1616 -704 1568
FLAG -1312 1696 0
FLAG -1328 1504 Ph1
FLAG -1616 80 Vin
FLAG -624 128 Ph3b
FLAG -1184 128 Ph2b
FLAG -1408 128 Ph1b
FLAG -1456 128 0
FLAG -1232 128 0
FLAG -672 128 0
FLAG -1088 1696 0
FLAG -1104 1504 Ph2
FLAG -624 400 Ph3
FLAG -1184 400 Ph2
FLAG -1408 400 Ph1
FLAG -1456 400 0
FLAG -1232 400 0
FLAG -672 400 0
FLAG 64 384 0
FLAG -1616 384 0
FLAG -864 1696 0
FLAG -880 1504 Ph3
FLAG -1312 1408 0
FLAG -1328 1216 Ph1b
FLAG -1088 1408 0
FLAG -1104 1216 Ph2b
FLAG -864 1408 0
FLAG -880 1216 Ph3b
FLAG -1312 80 nc3t
FLAG -752 80 nc2t
FLAG -1312 352 nc3b
FLAG -240 192 sw2
FLAG -400 128 Ph4b
FLAG -448 128 0
FLAG -416 400 Ph4
FLAG -464 400 0
FLAG -528 80 nc1t
FLAG -528 352 nc1b
FLAG -704 1696 0
FLAG -720 1504 Ph4
FLAG -704 1408 0
FLAG -720 1216 Ph4b
FLAG 64 192 Vout
FLAG -912 384 0
FLAG -1104 128 sw1
FLAG -1632 720 Vin
FLAG -640 768 Ph4b
FLAG -1200 768 Ph1b
FLAG -1424 768 Ph2b
FLAG -1472 768 0
FLAG -1248 768 0
FLAG -688 768 0
FLAG -640 1040 Ph4
FLAG -1200 1040 Ph1
FLAG -1424 1040 Ph2
FLAG -1472 1040 0
FLAG -1248 1040 0
FLAG -688 1040 0
FLAG 48 1024 0
FLAG -1632 1024 0
FLAG -1328 720 nc3t2
FLAG -768 720 nc2t2
FLAG -1328 992 nc3b2
FLAG -256 832 sw22
FLAG -416 768 Ph3b
FLAG -464 768 0
FLAG -432 1040 Ph3
FLAG -480 1040 0
FLAG -544 720 nc1t2
FLAG -544 992 nc1b2
FLAG 48 832 Vout
FLAG -928 1024 0
FLAG -1120 768 sw1
SYMBOL voltage -1312 1600 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 0 1p 1p {1/freq1*(1-duty)} {1/freq1})
SYMATTR InstName V2
SYMBOL Digital\\buf -1376 1568 R270
SYMATTR InstName A1
SYMBOL voltage -1616 128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Source
SYMATTR Value {Vin}
SYMBOL sw -704 80 R270
SYMATTR InstName S10
SYMATTR Value MYSWL
SYMBOL sw -1264 80 R270
SYMATTR InstName S11
SYMATTR Value MYSWH
SYMBOL sw -1488 80 R270
SYMATTR InstName S12
SYMATTR Value MYSWH
SYMBOL voltage -1088 1600 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {1/freq1/2+delay} 1p 1p {1/freq1*(1-duty)-delay+delay2} {1/freq1})
SYMATTR InstName V3
SYMBOL Digital\\buf -1152 1568 R270
SYMATTR InstName A3
SYMBOL sw -704 352 R270
SYMATTR InstName S4
SYMATTR Value MYSWL
SYMBOL sw -1264 352 R270
SYMATTR InstName S5
SYMATTR Value MYSWH
SYMBOL sw -1488 352 R270
SYMATTR InstName S6
SYMATTR Value MYSWH
SYMBOL cap -1344 192 R0
SYMATTR InstName C1
SYMATTR Value {C1}
SYMATTR SpiceLine Rser={ESR}
SYMATTR SpiceLine2 IC={Vin/2}
SYMBOL ind -128 208 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L
SYMATTR Value 0.025µ
SYMATTR SpiceLine Rser=0.2m Rpar=1k
SYMATTR SpiceLine2 ic = {Vin*duty/Rload}
SYMBOL res 0 224 R0
SYMATTR InstName R1
SYMATTR Value {Rload}
SYMBOL cap 80 240 R0
SYMATTR InstName C10
SYMATTR Value 100µ
SYMATTR SpiceLine IC={Vin*duty}
SYMATTR SpiceLine2 Rser={ESR}
SYMBOL voltage -864 1600 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 0 1p 1p {1/freq2*(1-duty)} {1/freq2})
SYMATTR InstName V1
SYMBOL Digital\\buf -928 1568 R270
SYMATTR InstName A2
SYMBOL voltage -1312 1312 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {1/freq1*(1-duty)+dead+delay} 1p 1p {1/freq1*duty-dead*2-delay+delay2} {1/freq1})
SYMATTR InstName V8
SYMBOL Digital\\buf -1376 1280 R270
SYMATTR InstName A8
SYMBOL voltage -1088 1312 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {1/freq1/2+1/freq1*(1-duty)+dead} 1p 1p {1/freq1*duty-dead*2} {1/freq1})
SYMATTR InstName V9
SYMBOL Digital\\buf -1152 1280 R270
SYMATTR InstName A9
SYMBOL voltage -864 1312 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 44 Invisible 2
SYMATTR Value PULSE(0 1 {1/freq2*(1-duty)+dead+delay} 1p 1p {1/freq2*duty-dead*2-delay+delay2} {1/freq2})
SYMATTR InstName V10
SYMBOL Digital\\buf -928 1280 R270
SYMATTR InstName A10
SYMBOL diode -1488 288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value MyDiode
SYMBOL diode -1248 288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value MyDiode
SYMBOL diode -704 288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value MyDiode
SYMBOL diode -1408 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D7
SYMATTR Value MyDiode
SYMBOL diode -1184 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D8
SYMATTR Value MyDiode
SYMBOL diode -624 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D9
SYMATTR Value MyDiode
SYMBOL sw -480 80 R270
SYMATTR InstName S1
SYMATTR Value MYSWL
SYMBOL diode -400 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D4
SYMATTR Value MyDiode
SYMBOL sw -496 352 R270
SYMATTR InstName S2
SYMATTR Value MYSWL
SYMBOL diode -496 288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D5
SYMATTR Value MyDiode
SYMBOL cap -560 192 R0
SYMATTR InstName C2
SYMATTR Value {C2}
SYMATTR SpiceLine Rser={ESR}
SYMATTR SpiceLine2 IC={Vin/4}
SYMBOL voltage -704 1600 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {1/freq2/2} 1p 1p {1/freq2*(1-duty)} {1/freq2})
SYMATTR InstName V4
SYMBOL Digital\\buf -768 1568 R270
SYMATTR InstName A4
SYMBOL voltage -704 1312 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 44 Invisible 2
SYMATTR Value PULSE(0 1 {1/freq2/2+1/freq2*(1-duty)+dead+delay} 1p 1p {1/freq2*duty-dead*2-delay+delay2} {1/freq2})
SYMATTR InstName V5
SYMBOL Digital\\buf -768 1280 R270
SYMATTR InstName A5
SYMBOL ind -1104 208 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 0.05µ
SYMATTR SpiceLine Rser=0.2m Rpar=1k
SYMATTR SpiceLine2 ic = {Vin*duty/Rload}
SYMBOL cap -896 240 R0
SYMATTR InstName C3
SYMATTR Value 40µ
SYMATTR SpiceLine IC={Vin/2}
SYMATTR SpiceLine2 Rser={ESR}
SYMBOL sw -720 720 R270
SYMATTR InstName S3
SYMATTR Value MYSWL
SYMBOL sw -1280 720 R270
SYMATTR InstName S7
SYMATTR Value MYSWH
SYMBOL sw -1504 720 R270
SYMATTR InstName S8
SYMATTR Value MYSWH
SYMBOL sw -720 992 R270
SYMATTR InstName S9
SYMATTR Value MYSWL
SYMBOL sw -1280 992 R270
SYMATTR InstName S13
SYMATTR Value MYSWH
SYMBOL sw -1504 992 R270
SYMATTR InstName S14
SYMATTR Value MYSWH
SYMBOL cap -1360 832 R0
SYMATTR InstName C4
SYMATTR Value {C1}
SYMATTR SpiceLine Rser={ESR}
SYMATTR SpiceLine2 IC={Vin/2}
SYMBOL ind -144 848 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 0.025µ
SYMATTR SpiceLine Rser=0.2m Rpar=1k
SYMATTR SpiceLine2 ic = {Vin*duty/Rload}
SYMBOL res -16 864 R0
SYMATTR InstName R2
SYMATTR Value {Rload}
SYMBOL cap 64 880 R0
SYMATTR InstName C5
SYMATTR Value 100µ
SYMATTR SpiceLine ic={Vin*duty}
SYMATTR SpiceLine2 Rser={ESR}
SYMBOL diode -1504 928 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D6
SYMATTR Value MyDiode
SYMBOL diode -1264 928 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D10
SYMATTR Value MyDiode
SYMBOL diode -720 928 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D11
SYMATTR Value MyDiode
SYMBOL diode -1424 560 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D12
SYMATTR Value MyDiode
SYMBOL diode -1200 560 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D13
SYMATTR Value MyDiode
SYMBOL diode -640 560 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D14
SYMATTR Value MyDiode
SYMBOL sw -496 720 R270
SYMATTR InstName S15
SYMATTR Value MYSWL
SYMBOL diode -416 560 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D15
SYMATTR Value MyDiode
SYMBOL sw -512 992 R270
SYMATTR InstName S16
SYMATTR Value MYSWL
SYMBOL diode -512 928 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D16
SYMATTR Value MyDiode
SYMBOL cap -576 832 R0
SYMATTR InstName C6
SYMATTR Value {C2}
SYMATTR SpiceLine Rser={ESR}
SYMATTR SpiceLine2 IC={Vin/4}
SYMBOL ind -1120 848 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L3
SYMATTR Value 0.05µ
SYMATTR SpiceLine Rser=0.2m Rpar=1k
SYMATTR SpiceLine2 ic = {Vin*duty/Rload}
SYMBOL cap -912 880 R0
SYMATTR InstName C7
SYMATTR Value 40µ
SYMATTR SpiceLine IC={Vin/2}
SYMATTR SpiceLine2 Rser={ESR}
TEXT -1256 -160 Left 2 !.tran 0 {1000/freq + 2/freq} {1000/freq} {1/freq/1000} uic
TEXT -536 1248 Left 2 !.model MYSWH SW(Ron=1.1m Roff=1Meg Vt=.5)\n.model MYSWL SW(Ron=0.7m Roff=1Meg Vt=.5)
TEXT -536 1312 Left 2 !.model MyDiode D(Ron=1m Roff=1Meg Vfwd=1)
TEXT -536 1400 Left 2 !.param delay=0n delay2=0n
TEXT -536 1432 Left 2 !.param freq=200k freq1=150k freq2=150k
TEXT -536 1608 Left 2 !.param duty=0.49 Vin= 48 Rload = 0.4
TEXT -536 1496 Left 2 !.param dead=5n
TEXT -536 1360 Left 2 !.param C1 = 20u C2 = 50u ESR = 0.4m
TEXT -264 -176 Left 2 !.meas TRAN S1max MAX V(sw) - V(nc1b)\n.meas TRAN S2max MAX V(nc1b) - V(nc2b)\n.meas TRAN S3max MAX V(nc2b)
TEXT -264 -312 Left 2 !.meas TRAN Vc2 MAX V(nc2t)-V(nc2b)\n.meas TRAN Vc1 MAX V(nc1t)-V(nc1b)\n.meas TRAN Vc2ave AVG V(nc2t)-V(nc2b)\n.meas TRAN Vc1ave AVG V(nc1t)-V(nc1b)
TEXT -264 -48 Left 2 !.meas TRAN S1bmax MAX V(nc1t) - V(sw) \n.meas TRAN S2bmax MAX V(nc2t) - V(nc1t) \n.meas TRAN S3bmax MAX V(Vin) - V(nc2t)
TEXT -1248 -320 Left 2 !*.step param C list 2.2u 1.1u\n*.step param Rload list 10 5\n*.step param delay list 3n 2n\n*.step param delay2 list 3n 2n\n*.step param Rload list 100 50 25 15 10 5 3 2
TEXT -728 -336 Left 2 !.meas TRAN Iin AVG -I(source)\n.meas TRAN Pin PARAM Vin*Iin\n.meas TRAN Voutave AVG V(Vout)\n.meas TRAN Pout AVG V(Vout)*I(R1)\n.meas TRAN Ploss PARAM Pin-Pout\n.meas TRAN Efficiency PARAM Pout/Pin
