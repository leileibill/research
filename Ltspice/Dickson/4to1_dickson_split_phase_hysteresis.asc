Version 4
SHEET 1 1904 1156
WIRE -48 -272 -208 -272
WIRE 32 -272 16 -272
WIRE 448 -272 112 -272
WIRE 208 -192 128 -192
WIRE 448 -192 448 -272
WIRE 448 -192 352 -192
WIRE 336 -112 288 -112
WIRE 448 -112 448 -192
WIRE 448 -112 416 -112
WIRE 496 -112 448 -112
WIRE 672 -112 576 -112
WIRE 352 -48 352 -64
WIRE 512 -48 512 -64
WIRE 288 -32 288 -112
WIRE 496 16 480 16
WIRE 672 16 672 -112
WIRE 672 16 640 16
WIRE -2080 48 -2080 0
WIRE -1440 48 -1440 0
WIRE -320 80 -384 80
WIRE -208 80 -208 -272
WIRE -208 80 -240 80
WIRE -160 80 -208 80
WIRE -32 80 -80 80
WIRE 16 80 -32 80
WIRE 128 80 128 -192
WIRE 128 80 96 80
WIRE 192 80 128 80
WIRE 288 80 288 -32
WIRE 288 80 272 80
WIRE 304 80 288 80
WIRE 400 80 384 80
WIRE 480 80 480 16
WIRE -384 144 -384 80
WIRE 480 144 480 80
WIRE 512 144 480 144
WIRE 672 144 672 16
WIRE 672 144 592 144
WIRE -1808 224 -2080 224
WIRE -1168 224 -1440 224
WIRE 288 272 288 80
WIRE 336 272 288 272
WIRE 464 272 416 272
WIRE 496 272 464 272
WIRE 672 272 672 144
WIRE 672 272 576 272
WIRE -1648 320 -1664 320
WIRE -1008 320 -1024 320
WIRE -2080 336 -2080 224
WIRE -2032 336 -2080 336
WIRE -1728 336 -1872 336
WIRE -1440 336 -1440 224
WIRE -1392 336 -1440 336
WIRE -1088 336 -1232 336
WIRE -1648 352 -1664 352
WIRE -1008 352 -1024 352
WIRE -32 368 -32 80
WIRE 96 368 -32 368
WIRE 192 368 176 368
WIRE 464 368 464 272
WIRE 464 368 256 368
WIRE -2032 384 -2096 384
WIRE -1808 384 -1808 224
WIRE -1808 384 -1856 384
WIRE -1392 384 -1456 384
WIRE -1168 384 -1168 224
WIRE -1168 384 -1216 384
FLAG -384 224 0
FLAG -256 128 pha2
FLAG 80 128 pha
FLAG 400 -64 pha
FLAG 560 320 pha
FLAG -96 128 phb
FLAG 208 32 phb2
FLAG 560 -64 phb
FLAG 400 320 phb
FLAG -304 128 0
FLAG -144 128 0
FLAG 32 128 0
FLAG 256 32 0
FLAG 352 -48 0
FLAG 352 320 0
FLAG 512 -48 0
FLAG 512 320 0
FLAG -384 80 Vin
FLAG 480 80 Vload
FLAG 672 272 0
FLAG 448 -272 mid1
FLAG 464 368 mid2
FLAG -208 80 nc3
FLAG -32 80 nc2
FLAG 128 80 nc1
FLAG -1456 -64 Ph1
FLAG -1440 128 0
FLAG 288 -32 Vsw
FLAG -1424 -64 Ph2
FLAG -1456 384 Ph2
FLAG -1008 320 pha
FLAG -1008 352 phb
FLAG -2096 -64 Ph3
FLAG -2080 128 0
FLAG -2064 -64 Ph4
FLAG -2096 384 Ph4
FLAG -1648 320 pha1
FLAG -1648 352 phb1
FLAG -1632 -240 Ph3
FLAG -1632 -208 pha
FLAG -1568 -240 pha2
FLAG -1632 -128 Ph3
FLAG -1632 -96 phb
FLAG -1568 -128 phb2
SYMBOL voltage -384 128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Source
SYMATTR Value {Vin}
SYMBOL sw -336 80 R270
SYMATTR InstName S8
SYMATTR Value MYSW
SYMBOL sw -176 80 R270
SYMATTR InstName S7
SYMATTR Value MYSW
SYMBOL sw 0 80 R270
SYMATTR InstName S6
SYMATTR Value MYSW
SYMBOL sw 288 80 R90
SYMATTR InstName S5
SYMATTR Value MYSW
SYMBOL sw 320 -112 R270
SYMATTR InstName S2
SYMATTR Value MYSW
SYMBOL sw 480 -112 R270
SYMATTR InstName S4
SYMATTR Value MYSW
SYMBOL sw 480 272 R270
SYMATTR InstName S3
SYMATTR Value MYSW
SYMBOL sw 320 272 R270
SYMATTR InstName S1
SYMATTR Value MYSW
SYMBOL cap -48 -256 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C3
SYMATTR Value {cc3}
SYMATTR SpiceLine ic={Vin/4*3}
SYMBOL cap 208 -176 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C1
SYMATTR Value {cc1}
SYMATTR SpiceLine ic={Vin/4*1}
SYMBOL cap 192 384 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C2
SYMATTR Value {cc2}
SYMATTR SpiceLine ic={Vin/4*2}
SYMBOL cap 496 32 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName Co
SYMATTR Value {cco}
SYMATTR SpiceLine ic=0.5
SYMBOL res 16 -256 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R2
SYMATTR Value {ResrC3}
SYMBOL res 256 -176 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R3
SYMATTR Value {ResrC1}
SYMBOL res 80 384 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R4
SYMATTR Value {ResrC2}
SYMBOL res 544 32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R5
SYMATTR Value {ResrCo}
SYMBOL current 512 144 R270
WINDOW 0 32 40 VTop 2
WINDOW 3 -32 40 VBottom 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I1
SYMATTR Value PULSE(0 2 {period*10} {period*90} 0 1 2 1)
SYMBOL res 496 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 20m
SYMBOL voltage -1440 32 R0
WINDOW 3 24 72 Left 2
SYMATTR Value V={if(V(Vsw)>1,1,0)}
SYMATTR InstName B1
SYMATTR Prefix B
SYMBOL Digital\\buf -1504 0 R270
SYMATTR InstName A5
SYMBOL Digital\\dflop -1312 288 R0
WINDOW 3 8 16 Left 2
SYMATTR Value Td={Td} Trise={Trise}
SYMATTR InstName A7
SYMBOL Digital\\buf -1088 272 R0
SYMATTR InstName A6
SYMBOL voltage -2080 32 R0
WINDOW 3 24 72 Left 2
SYMATTR Value V={if(V(Vsw)>1.18,1,0)}
SYMATTR InstName B2
SYMATTR Prefix B
SYMBOL Digital\\buf -2144 0 R270
SYMATTR InstName A1
SYMBOL Digital\\dflop -1952 288 R0
WINDOW 3 8 16 Left 2
SYMATTR Value Td={Td} Trise={Trise}
SYMATTR InstName A2
SYMBOL Digital\\buf -1728 272 R0
SYMATTR InstName A3
SYMBOL Digital\\and -1600 -288 R0
WINDOW 3 55 78 Left 2
SYMATTR InstName A4
SYMATTR Value Td={Td} Trise={Trise}
SYMBOL Digital\\and -1600 -176 R0
WINDOW 3 86 15 Left 2
SYMATTR InstName A8
SYMATTR Value Td={Td} Trise={Trise}
SYMBOL ind 288 96 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {L}
TEXT 696 -216 Left 2 !.tran 0 {500*period+period*2} {200*period+period*2} {period/100} uic
TEXT 680 -144 Left 2 !.model MYSW SW(Ron=10m Roff=1Meg Vt=.5)
TEXT 680 -48 Left 2 !.meas TRAN IINave AVG I(source)\n.meas TRAN Pin PARAM -IINave*{Vin}\n.meas TRAN VOave AVG V(Vload)\n.meas TRAN Pout PARAM VOave*2\n.meas TRAN Ploss PARAM Pin-Pout\n.meas TRAN Efficiency PARAM Pout/Pin\n.meas TRAN VO AVG V(Vload)\n.meas TRAN Vmax MAX V(Vload)\n.meas TRAN Vmin MIN V(Vload)\n.meas TRAN ripple PARAM Vmax-Vmin
TEXT 712 264 Left 2 !.param cc1=10u cc2={30u-2*cc1} cc3={cc1} cco=10.0u Vin=5\n.param ResrC1=0.001 ResrC2=0.001 ResrC3=0.001 ResrCo=0.001\n.param L=0.213u\n.param period=5u\n.param delay=period/8\n.param Trise = 1p Td = 1n
TEXT 696 -248 Left 2 !*.step dec PARAM period 0.4u 20u 5
TEXT 720 -384 Left 2 !.meas TRAN Vc3 MAX V(n001)-V(n003)\n.meas TRAN Vc2 MAX V(n010)-V(n013)\n.meas TRAN Vc1 MAX V(n004)-V(n003)
TEXT -848 -368 Left 2 !.meas TRAN S8max MAX V(n011)-V(n006)\n.meas TRAN S8min MIN V(n011)-V(n006)\n.meas TRAN S7max MAX V(n006)-V(n012)\n.meas TRAN S7min MIN V(n006)-V(n012)\n.meas TRAN S6max MAX V(n012)-V(n008)\n.meas TRAN S6min MIN V(n012)-V(n008)\n.meas TRAN S5max MAX V(n008)-V(n009)\n.meas TRAN S5min MIN V(n008)-V(n009)\n.meas TRAN S1max MAX V(n009)-V(n013)\n.meas TRAN S1min MIN V(n009)-V(n013)\n.meas TRAN S2max MAX V(n009)-V(n003)\n.meas TRAN S2min MIN V(n009)-V(n003)\n.meas TRAN S3max MAX V(n013)\n.meas TRAN S3min MIN V(n013)\n.meas TRAN S4max MAX V(n003)\n.meas TRAN S4min MIN V(n003)
