Version 4
SHEET 1 2260 680
WIRE 368 -128 208 -128
WIRE 592 -128 448 -128
WIRE 96 16 -144 16
WIRE 208 16 208 -128
WIRE 208 16 176 16
WIRE 240 16 208 16
WIRE 336 16 320 16
WIRE 416 16 400 16
WIRE 448 16 416 16
WIRE 592 16 592 -128
WIRE 592 16 528 16
WIRE 624 16 592 16
WIRE 656 16 624 16
WIRE 784 16 736 16
WIRE 896 16 784 16
WIRE -896 128 -896 80
WIRE -1152 144 -1152 96
WIRE -144 144 -144 16
WIRE 624 144 624 16
WIRE 416 160 416 16
WIRE -1376 176 -1376 128
WIRE 896 176 896 16
WIRE 784 256 784 16
WIRE 784 256 752 256
WIRE 896 256 880 256
WIRE 896 272 896 256
WIRE -144 352 -144 224
WIRE 416 352 416 240
WIRE 416 352 -144 352
WIRE 624 352 624 208
WIRE 624 352 416 352
WIRE 784 352 784 336
WIRE 784 352 624 352
WIRE 896 352 896 336
WIRE 896 352 784 352
FLAG -1152 224 0
FLAG -1168 32 SR2
FLAG 416 352 0
FLAG 112 64 0
FLAG 384 -80 0
FLAG 432 -80 PAR
FLAG 160 64 SR
FLAG -144 16 Vin
FLAG 592 16 Vout
FLAG 880 256 Vco
FLAG 752 256 Vload
FLAG -896 208 0
FLAG -912 16 PAR2
FLAG 512 64 SR
FLAG 464 176 PAR
FLAG 464 64 0
FLAG 464 224 0
FLAG -1376 256 0
FLAG -1392 64 pulse
FLAG -608 48 pulse
FLAG -592 48 SR2
FLAG -608 -16 SR
FLAG -480 48 pulse
FLAG -464 48 PAR2
FLAG -480 -16 PAR
SYMBOL voltage -1152 128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value PULSE(0 1 0 1n 1n {period/2-1n} {period})
SYMBOL Digital\\buf -1216 96 R270
SYMATTR InstName A1
SYMBOL voltage -144 128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 44 Left 2
SYMATTR Value 16
SYMATTR InstName Source
SYMBOL cap 336 32 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C1
SYMATTR Value {cc1}
SYMATTR SpiceLine IC=8
SYMBOL sw 80 16 R270
SYMATTR InstName S4
SYMATTR Value MYSW
SYMBOL sw 352 -128 R270
SYMATTR InstName S6
SYMATTR Value MYSW
SYMBOL res 224 32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName ESR1
SYMATTR Value {ResrC1}
SYMBOL cap 880 272 R0
SYMATTR InstName Co
SYMATTR Value {cco}
SYMATTR SpiceLine IC=8
SYMBOL res 880 160 R0
SYMATTR InstName ESR2
SYMATTR Value {ResrCo}
SYMBOL current 784 256 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I1
SYMATTR Value PULSE(0 0.2 0 {500*period} 0 1 2)
SYMBOL ind 640 32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 0.1µ
SYMATTR SpiceLine Rser=1m
SYMBOL voltage -896 112 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value PULSE(0 1 {period/2} 1n 1n {period/2-1n} {period})
SYMBOL Digital\\buf -960 80 R270
SYMATTR InstName A2
SYMBOL sw 416 256 R180
SYMATTR InstName S2
SYMATTR Value MYSW
SYMBOL sw 432 16 R270
SYMATTR InstName S3
SYMATTR Value MYSW
SYMBOL voltage -1376 160 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(0 1 0 1n 1n {period_pulse/4} {period_pulse})
SYMBOL Digital\\buf -1440 128 R270
SYMATTR InstName A3
SYMBOL Digital\\and -656 16 R270
SYMATTR InstName A5
SYMBOL Digital\\and -528 16 R270
SYMATTR InstName A4
SYMBOL diode 640 208 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value MYD
TEXT 1352 56 Left 2 !.tran 0 {204*period_pulse+1.1u} {200*period_pulse+1.1u} {period/500}
TEXT 1344 -136 Left 2 !.model MYSW SW(Ron=20m Roff=1Meg Vt=.5 Vh=0.1)\n.model MYD D(Ron=.1 Roff=1Meg Vfwd=.4)
TEXT 1352 96 Left 2 !.meas TRAN Iin AVG -I(source)\n.meas TRAN Pin PARAM 16*Iin\n.meas TRAN Voutave AVG V(Vload)\n.meas TRAN Pout PARAM Voutave*0.2\n.meas TRAN Ploss PARAM Pin-Pout\n.meas TRAN Efficiency PARAM Pout/Pin\n.meas TRAN VO AVG V(Vload)
TEXT 112 448 Left 2 !.param cc1=10u cco=100u\n.param ResrC1=0.001 ResrC2=0.001 ResrC3=0.001 ResrCo=0.001
TEXT 1352 -64 Left 2 !*.step dec PARAM period 2u 30u 40\n*.step dec PARAM period 0.2u 2u 20\n.param period=6.2u\n.param period_pulse={6.2u*8}
TEXT 1360 312 Left 2 !.meas TRAN Vmax MAX V(Vload)\n.meas TRAN Vmin MIN V(Vload)\n.meas TRAN ripple PARAM Vmax-Vmin
