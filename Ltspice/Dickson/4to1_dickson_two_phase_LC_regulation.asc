Version 4
SHEET 1 1688 680
WIRE -48 -272 -208 -272
WIRE 32 -272 16 -272
WIRE 448 -272 112 -272
WIRE -768 -224 -768 -272
WIRE 208 -192 128 -192
WIRE 448 -192 448 -272
WIRE 448 -192 352 -192
WIRE -1056 -160 -1056 -208
WIRE 336 -112 288 -112
WIRE 448 -112 448 -192
WIRE 448 -112 416 -112
WIRE 496 -112 448 -112
WIRE 608 -112 576 -112
WIRE 352 -48 352 -64
WIRE 512 -48 512 -64
WIRE 576 16 560 16
WIRE -320 80 -432 80
WIRE -208 80 -208 -272
WIRE -208 80 -240 80
WIRE -160 80 -208 80
WIRE -32 80 -80 80
WIRE 16 80 -32 80
WIRE 128 80 128 -192
WIRE 128 80 96 80
WIRE 176 80 128 80
WIRE 288 80 288 -112
WIRE 288 80 256 80
WIRE 336 80 288 80
WIRE 416 80 416 16
WIRE 576 80 576 16
WIRE 608 80 608 -112
WIRE 608 80 576 80
WIRE 672 80 608 80
WIRE 672 128 672 80
WIRE -432 144 -432 80
WIRE 416 144 416 80
WIRE 448 144 416 144
WIRE 528 144 496 144
WIRE 576 144 576 80
WIRE 576 144 528 144
WIRE -1056 160 -1056 112
WIRE -752 160 -752 112
WIRE 288 272 288 80
WIRE 336 272 288 272
WIRE 464 272 416 272
WIRE 496 272 464 272
WIRE 608 272 608 80
WIRE 608 272 576 272
WIRE -32 368 -32 80
WIRE 96 368 -32 368
WIRE 192 368 176 368
WIRE 464 368 464 272
WIRE 464 368 256 368
FLAG -1056 240 0
FLAG -1072 48 Ph3
FLAG -432 224 0
FLAG -256 128 Ph1
FLAG 80 128 Ph1
FLAG 400 -64 Ph3
FLAG 560 320 Ph3
FLAG -96 128 Ph2
FLAG 240 128 Ph2
FLAG 560 -64 Ph4
FLAG 400 320 Ph4
FLAG -304 128 0
FLAG -144 128 0
FLAG 32 128 0
FLAG 192 128 0
FLAG 352 -48 0
FLAG 352 320 0
FLAG 512 -48 0
FLAG 512 320 0
FLAG 672 128 0
FLAG -432 80 Vin
FLAG 416 80 Vload
FLAG -752 240 0
FLAG -768 48 Ph4
FLAG -1056 -80 0
FLAG -1072 -272 Ph1
FLAG -768 -144 0
FLAG -784 -336 Ph2
SYMBOL voltage -1056 144 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value PULSE(0 1 0 10n 10n {period/2+regulation-10n} {period+regulation})
SYMBOL buf -1120 112 R270
SYMATTR InstName A1
SYMBOL voltage -432 128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Source
SYMATTR Value {Vin}
SYMBOL sw -336 80 R270
SYMATTR InstName S1
SYMATTR Value MYSW
SYMBOL sw -176 80 R270
SYMATTR InstName S2
SYMATTR Value MYSW
SYMBOL sw 0 80 R270
SYMATTR InstName S3
SYMATTR Value MYSW
SYMBOL sw 160 80 R270
SYMATTR InstName S4
SYMATTR Value MYSW
SYMBOL sw 320 -112 R270
SYMATTR InstName S5
SYMATTR Value MYSW
SYMBOL sw 480 -112 R270
SYMATTR InstName S6
SYMATTR Value MYSW
SYMBOL sw 480 272 R270
SYMATTR InstName S7
SYMATTR Value MYSW
SYMBOL sw 320 272 R270
SYMATTR InstName S8
SYMATTR Value MYSW
SYMBOL cap -48 -256 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C3
SYMATTR Value {cc3}
SYMATTR SpiceLine ic = {vin/4*3}
SYMBOL cap 208 -176 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C1
SYMATTR Value {cc1}
SYMATTR SpiceLine ic = {Vin/4}
SYMBOL cap 192 384 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C2
SYMATTR Value {cc2}
SYMATTR SpiceLine ic = {Vin/4*2}
SYMBOL cap 416 32 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName Co
SYMATTR Value {cco}
SYMBOL res 16 -256 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R2
SYMATTR Value {ResrC3}
SYMBOL res 256 -176 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R3
SYMATTR Value {ResrC1}
SYMBOL res 80 384 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R4
SYMATTR Value {ResrC2}
SYMBOL res 464 32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R5
SYMATTR Value {ResrCo}
SYMBOL current 448 144 R270
WINDOW 0 32 40 VTop 2
WINDOW 3 -73 32 VBottom 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I1
SYMATTR Value PULSE(0 2 500u 1000u 0 200000u 200000u 1)
SYMBOL ind 432 64 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value {L}
SYMBOL voltage -752 144 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value PULSE(0 1 {period/2} 10n 10n {period/2+regulation-10n} {period+regulation})
SYMBOL buf -816 112 R270
SYMATTR InstName A2
SYMBOL voltage -1056 -176 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(0 1 0 10n 10n {period/2-10n} {period+regulation})
SYMBOL buf -1120 -208 R270
SYMATTR InstName A3
SYMBOL voltage -768 -240 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value PULSE(0 1 {period/2+regulation} 10n 10n {period/2-10n} {period+regulation})
SYMBOL buf -832 -272 R270
SYMATTR InstName A4
TEXT 768 -216 Left 2 !.tran 0 3414u {3415u-8*(period+regulation)} 10n uic
TEXT 680 -144 Left 2 !.model MYSW SW(Ron=10m Roff=1Meg Vt=.5)
TEXT 680 -96 Left 2 !.measure tran t1 FIND time WHEN V(sr)=.6 CROSS=3\n.measure tran t2 FIND time WHEN V(sr)=.6 CROSS=7
TEXT 680 -48 Left 2 !.meas TRAN IINave AVG I(source)\n.meas TRAN Pin PARAM -IINave*5\n.meas TRAN VOave AVG V(Vload)\n.meas TRAN Pout PARAM VOave*2\n.meas TRAN Ploss PARAM Pin-Pout\n.meas TRAN Efficiency PARAM Pout/Pin\n.meas TRAN VO AVG V(Vload)\n.meas TRAN Vmax MAX V(Vload)\n.meas TRAN Vmin MIN V(Vload)\n.meas TRAN ripple PARAM Vmax-Vmin
TEXT -400 504 Left 2 !.param cc1=0.5u cc2=8u cc3=0.5u cco=20u\n.param ResrC1=0.001 ResrC2=0.001 ResrC3=0.001 ResrCo=0.001\n.param rro=1.25
TEXT 688 304 Left 2 !.meas TRAN Efficiency2 PARAM VO*4/5\n.meas TRAN Iload RMS I(R1)\n.meas TRAN Ploss2 PARAM (VO*Iload)/Efficiency2*(1-Efficiency2)
TEXT 776 -248 Left 2 !*.step PARAM cco 1u 100u 1u
TEXT 392 512 Left 2 !*.step oct param period 1u 10u 3\n*.step oct param L 0.5u 5u 1\n*.step param regulation 0.125u 0.5u 0.125u
TEXT 696 400 Left 2 !.param period=1u L=2u regulation=period/4\n.param Vin = 170
