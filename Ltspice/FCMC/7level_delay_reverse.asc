Version 4
SHEET 1 1904 1428
WIRE -1152 -64 -1184 -64
WIRE -1040 -64 -1088 -64
WIRE -928 -64 -944 -64
WIRE -816 -64 -864 -64
WIRE -688 -64 -720 -64
WIRE -592 -64 -624 -64
WIRE -480 -64 -496 -64
WIRE -368 -64 -416 -64
WIRE -224 -64 -240 -64
WIRE -112 -64 -160 -64
WIRE 48 -64 16 -64
WIRE 176 -64 112 -64
WIRE -1184 80 -1184 -64
WIRE -1184 80 -1296 80
WIRE -1152 80 -1184 80
WIRE -1040 80 -1040 -64
WIRE -1040 80 -1072 80
WIRE -1008 80 -1040 80
WIRE -992 80 -1008 80
WIRE -944 80 -944 -64
WIRE -944 80 -992 80
WIRE -928 80 -944 80
WIRE -816 80 -816 -64
WIRE -816 80 -848 80
WIRE -768 80 -816 80
WIRE -752 80 -768 80
WIRE -720 80 -720 -64
WIRE -720 80 -752 80
WIRE -688 80 -720 80
WIRE -592 80 -592 -64
WIRE -592 80 -608 80
WIRE -544 80 -592 80
WIRE -528 80 -544 80
WIRE -496 80 -496 -64
WIRE -496 80 -528 80
WIRE -480 80 -496 80
WIRE -368 80 -368 -64
WIRE -368 80 -400 80
WIRE -304 80 -368 80
WIRE -288 80 -304 80
WIRE -240 80 -240 -64
WIRE -240 80 -288 80
WIRE -208 80 -240 80
WIRE -112 80 -112 -64
WIRE -112 80 -128 80
WIRE -64 80 -112 80
WIRE -32 80 -64 80
WIRE 16 80 16 -64
WIRE 16 80 -32 80
WIRE 48 80 16 80
WIRE 176 80 176 -64
WIRE 176 80 128 80
WIRE 256 80 176 80
WIRE 400 80 384 80
WIRE 528 80 480 80
WIRE -1296 144 -1296 80
WIRE -144 160 -144 128
WIRE 112 160 112 128
WIRE -144 176 -144 160
WIRE 112 176 112 160
WIRE -1008 192 -1008 80
WIRE -768 192 -768 80
WIRE -544 192 -544 80
WIRE -288 192 -288 80
WIRE -32 192 -32 80
WIRE 256 192 256 80
WIRE 288 192 256 192
WIRE 384 192 384 80
WIRE 384 192 288 192
WIRE 416 192 384 192
WIRE 528 192 528 80
WIRE 528 192 496 192
WIRE 544 192 528 192
WIRE 624 192 544 192
WIRE 624 208 624 192
WIRE -1056 272 -1104 272
WIRE -928 272 -944 272
WIRE -832 272 -864 272
WIRE -592 272 -640 272
WIRE -384 272 -432 272
WIRE -96 272 -160 272
WIRE 48 272 16 272
WIRE 160 272 112 272
WIRE 592 272 544 272
WIRE 624 272 592 272
WIRE 592 304 592 272
WIRE -1296 352 -1296 224
WIRE -1168 352 -1168 272
WIRE -1168 352 -1296 352
WIRE -1152 352 -1168 352
WIRE -1056 352 -1056 272
WIRE -1056 352 -1072 352
WIRE -1008 352 -1008 256
WIRE -1008 352 -1056 352
WIRE -992 352 -1008 352
WIRE -944 352 -944 272
WIRE -944 352 -992 352
WIRE -928 352 -944 352
WIRE -832 352 -832 272
WIRE -832 352 -848 352
WIRE -768 352 -768 256
WIRE -768 352 -832 352
WIRE -752 352 -768 352
WIRE -704 352 -704 272
WIRE -704 352 -752 352
WIRE -688 352 -704 352
WIRE -592 352 -592 272
WIRE -592 352 -608 352
WIRE -544 352 -544 256
WIRE -544 352 -592 352
WIRE -528 352 -544 352
WIRE -496 352 -496 272
WIRE -496 352 -528 352
WIRE -480 352 -496 352
WIRE -384 352 -384 272
WIRE -384 352 -400 352
WIRE -304 352 -384 352
WIRE -288 352 -288 256
WIRE -288 352 -304 352
WIRE -224 352 -224 272
WIRE -224 352 -288 352
WIRE -208 352 -224 352
WIRE -96 352 -96 272
WIRE -96 352 -128 352
WIRE -48 352 -96 352
WIRE -32 352 -32 256
WIRE -32 352 -48 352
WIRE 16 352 16 272
WIRE 16 352 -32 352
WIRE 48 352 16 352
WIRE 160 352 160 272
WIRE 160 352 128 352
WIRE 256 352 256 192
WIRE 256 352 160 352
WIRE -1296 384 -1296 352
WIRE -144 432 -144 400
WIRE 112 432 112 400
WIRE -144 448 -144 432
WIRE 112 448 112 432
WIRE -1072 688 -1072 640
WIRE -848 688 -848 640
WIRE -624 688 -624 640
WIRE -416 688 -416 640
WIRE -224 688 -224 640
WIRE 0 688 0 640
WIRE -1072 976 -1072 928
WIRE -848 976 -848 928
WIRE -624 976 -624 928
WIRE -416 976 -416 928
WIRE -208 976 -208 928
WIRE 0 976 0 928
FLAG -1072 1056 0
FLAG -1088 864 Ph1
FLAG -1296 80 Vin
FLAG -416 128 Ph4b
FLAG -464 128 0
FLAG -624 128 Ph3b
FLAG -864 128 Ph2b
FLAG -1088 128 Ph1b
FLAG -1136 128 0
FLAG -912 128 0
FLAG -672 128 0
FLAG -848 1056 0
FLAG -864 864 Ph2
FLAG -192 128 0
FLAG 64 128 0
FLAG -416 400 Ph4
FLAG -464 400 0
FLAG -624 400 Ph3
FLAG -864 400 Ph2
FLAG -1088 400 Ph1
FLAG -1136 400 0
FLAG -912 400 0
FLAG -672 400 0
FLAG -192 400 0
FLAG 64 400 0
FLAG 592 304 0
FLAG -1296 384 0
FLAG -144 432 Ph5
FLAG 112 432 Ph6
FLAG -144 160 Ph5b
FLAG 112 160 Ph6b
FLAG -624 1056 0
FLAG -640 864 Ph3
FLAG -416 1056 0
FLAG -432 864 Ph4
FLAG -208 1056 0
FLAG -224 864 Ph5
FLAG 0 1056 0
FLAG -16 864 Ph6
FLAG 0 768 0
FLAG -16 576 Ph6b
FLAG -1072 768 0
FLAG -1088 576 Ph1b
FLAG -848 768 0
FLAG -864 576 Ph2b
FLAG -624 768 0
FLAG -640 576 Ph3b
FLAG -416 768 0
FLAG -432 576 Ph4b
FLAG -224 768 0
FLAG -240 576 Ph5b
FLAG -992 80 nc5t
FLAG -752 80 nc4t
FLAG -528 80 nc3t
FLAG -304 80 nc2t
FLAG -64 80 nc1t
FLAG -992 352 nc5b
FLAG -752 352 nc4b
FLAG -528 352 nc3b
FLAG -304 352 nc2b
FLAG -48 352 nc1b
FLAG 288 192 sw
SYMBOL voltage -1072 960 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 0 1p 1p {1/freq*(1-duty)} {1/freq})
SYMATTR InstName V2
SYMBOL Digital\\buf -1136 928 R270
SYMATTR InstName A1
SYMBOL voltage -1296 128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Source
SYMATTR Value {Vin}
SYMBOL sw -224 80 R270
SYMATTR InstName S8
SYMATTR Value MYSWH
SYMBOL sw 32 80 R270
SYMATTR InstName S7
SYMATTR Value MYSWL
SYMBOL sw -496 80 R270
SYMATTR InstName S9
SYMATTR Value MYSWL
SYMBOL sw -704 80 R270
SYMATTR InstName S10
SYMATTR Value MYSWH
SYMBOL sw -944 80 R270
SYMATTR InstName S11
SYMATTR Value MYSWL
SYMBOL sw -1168 80 R270
SYMATTR InstName S12
SYMATTR Value MYSWH
SYMBOL voltage -848 960 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {5/freq/6+delay} 1p 1p {1/freq*(1-duty)-delay+delay2} {1/freq})
SYMATTR InstName V3
SYMBOL Digital\\buf -912 928 R270
SYMATTR InstName A3
SYMBOL sw -224 352 R270
SYMATTR InstName S1
SYMATTR Value MYSWL
SYMBOL sw 32 352 R270
SYMATTR InstName S2
SYMATTR Value MYSWH
SYMBOL sw -496 352 R270
SYMATTR InstName S3
SYMATTR Value MYSWH
SYMBOL sw -704 352 R270
SYMATTR InstName S4
SYMATTR Value MYSWL
SYMBOL sw -944 352 R270
SYMATTR InstName S5
SYMATTR Value MYSWH
SYMBOL sw -1168 352 R270
SYMATTR InstName S6
SYMATTR Value MYSWL
SYMBOL cap -1024 192 R0
SYMATTR InstName C2
SYMATTR Value {C}
SYMATTR SpiceLine Rser={ESR}
SYMATTR SpiceLine2 IC={Vin/6*5}
SYMBOL cap -784 192 R0
SYMATTR InstName C4
SYMATTR Value {C}
SYMATTR SpiceLine Rser={ESR}
SYMATTR SpiceLine2 IC={Vin/6*4}
SYMBOL cap -560 192 R0
SYMATTR InstName C6
SYMATTR Value {C}
SYMATTR SpiceLine Rser={ESR}
SYMATTR SpiceLine2 IC={Vin/6*3}
SYMBOL cap -304 192 R0
SYMATTR InstName C8
SYMATTR Value {C}
SYMATTR SpiceLine Rser={ESR}
SYMATTR SpiceLine2 IC={Vin/6*2}
SYMBOL cap -48 192 R0
SYMATTR InstName C9
SYMATTR Value {C}
SYMATTR SpiceLine Rser={ESR}
SYMATTR SpiceLine2 IC={Vin/6*1}
SYMBOL ind 400 208 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L
SYMATTR Value 10µ
SYMATTR SpiceLine Rser=20m
SYMATTR SpiceLine2 ic = {Vin*duty/Rload}
SYMBOL res 528 176 R0
SYMATTR InstName R1
SYMATTR Value {Rload}
SYMBOL cap 608 208 R0
SYMATTR InstName C10
SYMATTR Value 10µ
SYMATTR SpiceLine IC={Vin*duty}
SYMATTR SpiceLine2 Rser=1m
SYMBOL voltage -624 960 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {4/freq/6} 1p 1p {1/freq*(1-duty)} {1/freq})
SYMATTR InstName V1
SYMBOL Digital\\buf -688 928 R270
SYMATTR InstName A2
SYMBOL voltage -416 960 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {3/freq/6+delay} 1p 1p {1/freq*(1-duty)-delay+delay2} {1/freq})
SYMATTR InstName V4
SYMBOL Digital\\buf -480 928 R270
SYMATTR InstName A4
SYMBOL voltage -208 960 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {2/freq/6} 1p 1p {1/freq*(1-duty)} {1/freq})
SYMATTR InstName V5
SYMBOL Digital\\buf -272 928 R270
SYMATTR InstName A5
SYMBOL voltage 0 960 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {1/freq/6+delay} 1p 1p {1/freq*(1-duty)-delay+delay2} {1/freq})
SYMATTR InstName V6
SYMBOL Digital\\buf -64 928 R270
SYMATTR InstName A6
SYMBOL voltage 0 672 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {1/freq/6+1/freq*(1-duty)+dead} 1p 1p {1/freq*duty-dead*2} {1/freq})
SYMATTR InstName V7
SYMBOL Digital\\buf -64 640 R270
SYMATTR InstName A7
SYMBOL voltage -1072 672 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {1/freq*(1-duty)+dead+delay} 1p 1p {1/freq*duty-dead*2-delay+delay2} {1/freq})
SYMATTR InstName V8
SYMBOL Digital\\buf -1136 640 R270
SYMATTR InstName A8
SYMBOL voltage -848 672 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {5/freq/6+1/freq*(1-duty)+dead} 1p 1p {1/freq*duty-dead*2} {1/freq})
SYMATTR InstName V9
SYMBOL Digital\\buf -912 640 R270
SYMATTR InstName A9
SYMBOL voltage -624 672 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 44 Invisible 2
SYMATTR Value PULSE(0 1 {4/freq/6+1/freq*(1-duty)+dead+delay} 1p 1p {1/freq*duty-dead*2-delay+delay2} {1/freq})
SYMATTR InstName V10
SYMBOL Digital\\buf -688 640 R270
SYMATTR InstName A10
SYMBOL voltage -416 672 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {3/freq/6+1/freq*(1-duty)+dead} 1p 1p {1/freq*duty-dead*2} {1/freq})
SYMATTR InstName V11
SYMBOL Digital\\buf -480 640 R270
SYMATTR InstName A11
SYMBOL voltage -224 672 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {2/freq/6+1/freq*(1-duty)+dead+delay} 1p 1p {1/freq*duty-dead*2-delay+delay2} {1/freq})
SYMATTR InstName V12
SYMBOL Digital\\buf -288 640 R270
SYMATTR InstName A12
SYMBOL diode -1168 288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value MyDiode
SYMBOL diode -928 288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value MyDiode
SYMBOL diode -704 288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value MyDiode
SYMBOL diode -496 288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
SYMATTR Value MyDiode
SYMBOL diode -224 288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D5
SYMATTR Value MyDiode
SYMBOL diode 48 288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D6
SYMATTR Value MyDiode
SYMBOL diode -1088 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D7
SYMATTR Value MyDiode
SYMBOL diode -864 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D8
SYMATTR Value MyDiode
SYMBOL diode -624 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D9
SYMATTR Value MyDiode
SYMBOL diode -416 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D10
SYMATTR Value MyDiode
SYMBOL diode -160 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D11
SYMATTR Value MyDiode
SYMBOL diode 112 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D12
SYMATTR Value MyDiode
SYMBOL res 496 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
TEXT -1208 -168 Left 2 !.tran 0 {100m + 1/freq} 100m uic
TEXT 224 632 Left 2 !.model MYSWH SW(Ron=12m Roff=1Meg Vt=.5)\n.model MYSWL SW(Ron=12m Roff=1Meg Vt=.5)
TEXT 224 696 Left 2 !.model MyDiode D(Ron=2m Roff=1Meg Vfwd=2)
TEXT 224 784 Left 2 !.param delay=1n delay2=0n
TEXT 224 816 Left 2 !.param freq=120k
TEXT 224 992 Left 2 !.param duty=0.25 Vin= 90 Rload = 100
TEXT 224 880 Left 2 !.param dead=40n
TEXT 224 744 Left 2 !.param C = 2.2u ESR = 5m
TEXT -336 -304 Left 2 !.meas TRAN S6max MAX V(sw) - V(nc1b)\n.meas TRAN S5max MAX V(nc1b) - V(nc2b)\n.meas TRAN S4max MAX V(nc2b) - V(nc3b)\n.meas TRAN S3max MAX V(nc3b)-V(nc4b)\n.meas TRAN S2max MAX V(nc4b)-V(nc5b)\n.meas TRAN S1max MAX V(nc5b)
TEXT -816 -280 Left 2 !.meas TRAN Vc5 MAX V(nc5t)-V(nc5b)\n.meas TRAN Vc4 MAX V(nc4t)-V(nc4b)\n.meas TRAN Vc3 MAX V(nc3t)-V(nc3b)\n.meas TRAN Vc2 MAX V(nc2t)-V(nc2b)\n.meas TRAN Vc1 MAX V(nc1t)-V(nc1b)
TEXT 200 -296 Left 2 !.meas TRAN S6bmax MAX V(nc1t) - V(sw) \n.meas TRAN S5bmax MAX V(nc2t) - V(nc1t) \n.meas TRAN S4bmax MAX V(nc3t) - V(nc2t) \n.meas TRAN S3bmax MAX V(nc4t) - V(nc3t)\n.meas TRAN S2bmax MAX V(nc5t) - V(nc4t)\n.meas TRAN S1bmax MAX V(Vin) - V(nc5t)
TEXT -1224 -312 Left 2 !*.step param C list 2.2u 1.1u\n*.step param Rload list 10 5\n*.step param delay list 3n 2n\n*.step param delay2 list 3n 2n\n.step param Rload list 100 50 25 15 10 5
