Version 4
SHEET 1 1904 1428
WIRE -1168 80 -1296 80
WIRE -1152 80 -1168 80
WIRE -1008 80 -1072 80
WIRE -992 80 -1008 80
WIRE -928 80 -992 80
WIRE -832 80 -848 80
WIRE -768 80 -832 80
WIRE -752 80 -768 80
WIRE -704 80 -752 80
WIRE -688 80 -704 80
WIRE -544 80 -608 80
WIRE -528 80 -544 80
WIRE -480 80 -528 80
WIRE -464 80 -480 80
WIRE -240 80 -384 80
WIRE -1296 144 -1296 80
WIRE -1008 192 -1008 80
WIRE -768 192 -768 80
WIRE -544 192 -544 80
WIRE -240 192 -240 80
WIRE -112 192 -240 192
WIRE 16 192 -32 192
WIRE 64 192 16 192
WIRE 96 192 64 192
WIRE 16 240 16 192
WIRE 96 240 96 192
WIRE -1296 352 -1296 224
WIRE -1152 352 -1296 352
WIRE -1056 352 -1072 352
WIRE -1008 352 -1008 256
WIRE -1008 352 -1056 352
WIRE -992 352 -1008 352
WIRE -944 352 -992 352
WIRE -928 352 -944 352
WIRE -768 352 -768 256
WIRE -768 352 -848 352
WIRE -752 352 -768 352
WIRE -704 352 -752 352
WIRE -688 352 -704 352
WIRE -544 352 -544 256
WIRE -544 352 -608 352
WIRE -528 352 -544 352
WIRE -480 352 -528 352
WIRE -384 352 -400 352
WIRE -240 352 -240 192
WIRE -240 352 -384 352
WIRE 16 352 16 320
WIRE 64 352 16 352
WIRE 96 352 96 304
WIRE 96 352 64 352
WIRE -1296 384 -1296 352
WIRE 64 384 64 352
FLAG -1072 896 Ph1
FLAG -1296 80 Vin
FLAG -848 128 Ph3b
FLAG -624 128 Ph2b
FLAG -400 128 Ph1b
FLAG -848 896 Ph2
FLAG -928 304 Ph3
FLAG -688 304 Ph2
FLAG -464 304 Ph1
FLAG 64 384 0
FLAG -1296 384 0
FLAG -624 896 Ph3
FLAG -1072 608 Ph1b
FLAG -848 608 Ph2b
FLAG -624 608 Ph3b
FLAG -992 80 nc3t
FLAG -752 80 nc2t
FLAG -992 352 nc3b
FLAG -752 352 nc2b
FLAG -240 192 sw
FLAG -1088 128 Ph4b
FLAG -1136 304 Ph4
FLAG -528 80 nc1t
FLAG -528 352 nc1b
FLAG -464 1056 0
FLAG -464 896 Ph4
FLAG -464 608 Ph4b
FLAG 64 192 Vout
FLAG -624 1056 nc3b
FLAG -848 1056 nc2b
FLAG -1072 1056 nc1b
FLAG -1072 768 sw
FLAG -848 768 nc1t
FLAG -624 768 nc2t
FLAG -464 768 nc3t
SYMBOL voltage -1072 960 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 5 0 1p 1p {1/freq*(1-duty)} {1/freq})
SYMATTR InstName V2
SYMBOL voltage -1296 128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Source
SYMATTR Value {Vin}
SYMBOL voltage -848 960 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 5 {1/freq/4+delay} 1p 1p {1/freq*(1-duty)-delay+delay2} {1/freq})
SYMATTR InstName V3
SYMBOL cap -1024 192 R0
SYMATTR InstName C2
SYMATTR Value {C}
SYMATTR SpiceLine Rser={ESR}
SYMATTR SpiceLine2 IC={Vin/3*1}
SYMBOL cap -784 192 R0
SYMATTR InstName C4
SYMATTR Value {C}
SYMATTR SpiceLine Rser={ESR}
SYMATTR SpiceLine2 IC={Vin/3*2}
SYMBOL ind -128 208 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L
SYMATTR Value 0.05µ
SYMATTR SpiceLine Rser=0.2m Rpar=1k
SYMATTR SpiceLine2 ic = {Vin*duty/Rload}
SYMBOL res 0 224 R0
SYMATTR InstName R1
SYMATTR Value {Rload}
SYMBOL cap 80 240 R0
SYMATTR InstName C10
SYMATTR Value 100µ
SYMATTR SpiceLine IC={Vin*duty}
SYMATTR SpiceLine2 Rser={ESR}
SYMBOL voltage -624 960 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 5 {2/freq/4} 1p 1p {1/freq*(1-duty)} {1/freq})
SYMATTR InstName V1
SYMBOL voltage -1072 672 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 5 {1/freq*(1-duty)+dead+delay} 1p 1p {1/freq*duty-dead*2-delay+delay2} {1/freq})
SYMATTR InstName V8
SYMBOL voltage -848 672 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 5 {1/freq/4+1/freq*(1-duty)+dead} 1p 1p {1/freq*duty-dead*2} {1/freq})
SYMATTR InstName V9
SYMBOL voltage -624 672 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 44 Invisible 2
SYMATTR Value PULSE(0 5 {2/freq/4+1/freq*(1-duty)+dead+delay} 1p 1p {1/freq*duty-dead*2-delay+delay2} {1/freq})
SYMATTR InstName V10
SYMBOL cap -560 192 R0
SYMATTR InstName C1
SYMATTR Value {C}
SYMATTR SpiceLine Rser={ESR}
SYMATTR SpiceLine2 IC={Vin/3*2}
SYMBOL voltage -464 960 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 5 {3/freq/4} 1p 1p {1/freq*(1-duty)} {1/freq})
SYMATTR InstName V4
SYMBOL voltage -464 672 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 44 Invisible 2
SYMATTR Value PULSE(0 5 {3/freq/4+1/freq*(1-duty)+dead+delay} 1p 1p {1/freq*duty-dead*2-delay+delay2} {1/freq})
SYMATTR InstName V5
SYMBOL nmos -384 304 R90
SYMATTR InstName M1
SYMATTR Value IPT004N03L
SYMBOL nmos -608 304 R90
SYMATTR InstName M2
SYMATTR Value IPT004N03L
SYMBOL nmos -848 304 R90
SYMATTR InstName M3
SYMATTR Value IPT004N03L
SYMBOL nmos -1056 304 R90
SYMATTR InstName M4
SYMATTR Value IPT004N03L
SYMBOL nmos -1168 128 R270
SYMATTR InstName M5
SYMATTR Value PSMN0R725YLD
SYMBOL nmos -928 128 R270
SYMATTR InstName M6
SYMATTR Value PSMN0R725YLD
SYMBOL nmos -704 128 R270
SYMATTR InstName M7
SYMATTR Value PSMN0R725YLD
SYMBOL nmos -480 128 R270
SYMATTR InstName M8
SYMATTR Value PSMN0R725YLD
SYMBOL res -1088 592 R0
SYMATTR InstName R2
SYMATTR Value {Rgate}
SYMBOL res -864 592 R0
SYMATTR InstName R3
SYMATTR Value {Rgate}
SYMBOL res -640 592 R0
SYMATTR InstName R4
SYMATTR Value {Rgate}
SYMBOL res -480 592 R0
SYMATTR InstName R5
SYMATTR Value {Rgate}
SYMBOL res -480 880 R0
SYMATTR InstName R6
SYMATTR Value {Rgate}
SYMBOL res -640 880 R0
SYMATTR InstName R7
SYMATTR Value {Rgate}
SYMBOL res -864 880 R0
SYMATTR InstName R8
SYMATTR Value {Rgate}
SYMBOL res -1088 880 R0
SYMATTR InstName R9
SYMATTR Value {Rgate}
TEXT -1256 -160 Left 2 !.tran 0 {100/freq + 4/freq} {100/freq} {1/freq/500} uic
TEXT -296 608 Left 2 !.model MYSWH SW(Ron=0.7m Roff=1Meg Vt=.5)\n.model MYSWL SW(Ron=0.5m Roff=1Meg Vt=.5)
TEXT -296 672 Left 2 !.model MyDiode D(Ron=1m Roff=1Meg Vfwd=1)
TEXT -296 760 Left 2 !.param delay=0n delay2=0n
TEXT -296 792 Left 2 !.param freq=120k
TEXT -296 968 Left 2 !.param duty=0.26 Vin= 48 Rload = 2
TEXT -296 856 Left 2 !.param dead=100n Rgate = 0.2
TEXT -296 720 Left 2 !.param C = 18u ESR = 0.3m
TEXT -264 -176 Left 2 !.meas TRAN S1max MAX V(sw) - V(nc1b)\n.meas TRAN S2max MAX V(nc1b) - V(nc2b)\n.meas TRAN S3max MAX V(nc2b)
TEXT -264 -312 Left 2 !.meas TRAN Vc2 MAX V(nc2t)-V(nc2b)\n.meas TRAN Vc1 MAX V(nc1t)-V(nc1b)\n.meas TRAN Vc2ave AVG V(nc2t)-V(nc2b)\n.meas TRAN Vc1ave AVG V(nc1t)-V(nc1b)
TEXT -272 -56 Left 2 !.meas TRAN S1bmax MAX V(nc1t) - V(sw) \n.meas TRAN S2bmax MAX V(nc2t) - V(nc1t) \n.meas TRAN S3bmax MAX V(Vin) - V(nc2t)
TEXT -1248 -320 Left 2 !*.step param C list 2.2u 1.1u\n*.step param Rload list 10 5\n*.step param delay list 3n 2n\n*.step param delay2 list 3n 2n\n*.step param Rload list 100 50 25 15 10 5 3 2
TEXT -728 -336 Left 2 !.meas TRAN Iin AVG -I(source)\n.meas TRAN Pin PARAM Vin*Iin\n.meas TRAN Voutave AVG V(Vout)\n.meas TRAN Pout AVG V(Vout)*I(R1)\n.meas TRAN Ploss PARAM Pin-Pout\n.meas TRAN Efficiency PARAM Pout/Pin
