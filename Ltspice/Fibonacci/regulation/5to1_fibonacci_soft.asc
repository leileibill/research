Version 4
SHEET 1 1688 916
WIRE -592 -224 -704 -224
WIRE -480 -224 -512 -224
WIRE -432 -224 -480 -224
WIRE -304 -224 -352 -224
WIRE -224 -224 -304 -224
WIRE -176 -224 -224 -224
WIRE -48 -224 -96 -224
WIRE 32 -224 -48 -224
WIRE 80 -224 32 -224
WIRE 208 -224 160 -224
WIRE 256 -224 208 -224
WIRE 368 -224 336 -224
WIRE 464 -224 368 -224
WIRE 512 -224 464 -224
WIRE -480 -144 -480 -224
WIRE -224 -144 -224 -224
WIRE 32 -144 32 -224
WIRE -704 -96 -704 -224
WIRE 368 -96 368 -224
WIRE 512 -64 512 -224
WIRE -480 32 -480 -80
WIRE -432 32 -480 32
WIRE -304 32 -304 -224
WIRE -304 32 -352 32
WIRE -224 32 -224 -80
WIRE -176 32 -224 32
WIRE -48 32 -48 -224
WIRE -48 32 -96 32
WIRE 32 32 32 -80
WIRE 80 32 32 32
WIRE 208 32 208 -224
WIRE 208 32 160 32
WIRE -704 64 -704 -16
WIRE -480 64 -480 32
WIRE -224 64 -224 32
WIRE 32 64 32 32
WIRE -480 160 -480 144
WIRE -224 160 -224 144
WIRE -224 160 -480 160
WIRE 32 160 32 144
WIRE 32 160 -224 160
WIRE 368 160 368 -32
WIRE 368 160 32 160
WIRE 512 160 512 16
WIRE 512 160 368 160
WIRE -224 192 -224 160
WIRE -896 272 -896 224
WIRE -688 288 -688 240
FLAG -688 368 0
FLAG -704 176 Ph1
FLAG -704 64 0
FLAG -528 -176 Ph1
FLAG -368 -176 Ph2
FLAG -576 -176 0
FLAG -416 -176 0
FLAG -704 -224 Vin
FLAG 464 -224 Vload
FLAG -672 176 Ph4
FLAG -112 -176 Ph1
FLAG -160 -176 0
FLAG 144 -176 Ph2
FLAG 96 -176 0
FLAG -224 192 0
FLAG -368 80 Ph1
FLAG -272 128 Ph1
FLAG 144 80 Ph3
FLAG -528 128 Ph2
FLAG -112 80 Ph2
FLAG -16 128 Ph4
FLAG -528 80 0
FLAG -416 80 0
FLAG -160 80 0
FLAG -16 80 0
FLAG 96 80 0
FLAG -272 80 0
FLAG -896 352 0
FLAG -912 160 Ph2
FLAG -880 160 Ph3
FLAG 208 -224 vsw
SYMBOL voltage -688 272 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 -29 194 Invisible 2
SYMATTR Value PULSE(0 1 0 1p 1p {period/5*2*duty-1p} {period})
SYMATTR InstName V2
SYMBOL Digital\\buf -752 240 R270
SYMATTR InstName A1
SYMBOL voltage -704 -112 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Source
SYMATTR Value {vin}
SYMBOL sw -608 -224 R270
SYMATTR InstName S1
SYMATTR Value MYSW
SYMBOL sw -448 -224 R270
SYMATTR InstName S2
SYMATTR Value MYSW
SYMBOL cap -496 -144 R0
SYMATTR InstName C1
SYMATTR Value {cc1}
SYMATTR SpiceLine ic = {vin/5*3}
SYMATTR SpiceLine2 Rser = {Resr}
SYMBOL cap 352 -96 R0
SYMATTR InstName Co
SYMATTR Value {cco}
SYMATTR SpiceLine ic = {vin/5*duty}
SYMATTR SpiceLine2 Rser = {Resr}
SYMBOL current 512 -64 R0
WINDOW 0 32 40 VTop 2
WINDOW 3 96 52 Invisible 2
SYMATTR InstName I1
SYMATTR Value {Iload}
SYMBOL sw -480 48 R0
SYMATTR InstName S4
SYMATTR Value MYSW
SYMBOL sw -448 32 R270
SYMATTR InstName S3
SYMATTR Value MYSW
SYMBOL sw -192 -224 R270
SYMATTR InstName S5
SYMATTR Value MYSW
SYMBOL cap -240 -144 R0
SYMATTR InstName C2
SYMATTR Value {cc2}
SYMATTR SpiceLine ic = {vin/5*2}
SYMATTR SpiceLine2 Rser = {Resr}
SYMBOL sw -192 32 R270
SYMATTR InstName S6
SYMATTR Value MYSW
SYMBOL sw 64 -224 R270
SYMATTR InstName S8
SYMATTR Value MYSW
SYMBOL cap 16 -144 R0
SYMATTR InstName C3
SYMATTR Value {cc3}
SYMATTR SpiceLine ic = {vin/5}
SYMATTR SpiceLine2 Rser = {Resr}
SYMBOL sw 64 32 R270
SYMATTR InstName S9
SYMATTR Value MYSW
SYMBOL sw -224 48 R0
SYMATTR InstName S7
SYMATTR Value MYSW
SYMBOL sw 32 48 R0
SYMATTR InstName S10
SYMATTR Value MYSW
SYMBOL ind 240 -208 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L
SYMATTR Value 50µ
SYMATTR SpiceLine ic = {Iload}
SYMBOL voltage -896 256 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 1 {period/5*2*duty+period*(1-duty)/2-1p} 1p 1p {period/5*3*duty-1p} {period})
SYMATTR InstName V1
SYMBOL Digital\\buf -960 224 R270
SYMATTR InstName A2
TEXT -720 648 Left 2 !.model MYSW SW(Ron=10m Roff=1Meg Vt=.5 Vh=0.0)
TEXT 72 368 Left 2 !.meas TRAN IINave AVG I(source)\n.meas TRAN Pin PARAM -IINave*20\n.meas TRAN VOave AVG V(Vload)\n.meas TRAN Pout PARAM VOave*2\n.meas TRAN Ploss PARAM Pin-Pout\n.meas TRAN Efficiency PARAM Pout/Pin\n.meas TRAN VO AVG V(Vload)\n.meas TRAN Vmax MAX V(Vload)\n.meas TRAN Vmin MIN V(Vload)\n.meas TRAN ripple PARAM Vmax-Vmin\n.meas TRAN Vout AVG V(Vload)\n.meas TRAN Iout AVG I(I1)\n.meas TRAN Vin AVG V(Vin)
TEXT -720 680 Left 2 !.param cc = 20u cc1={cc} cc2={cc} cc3={cc} cco=200u\n.param Resr = 0.001\n.param vin = 96 Iload = 5
TEXT -728 608 Left 2 !.tran 0 {10004*period} {10000*period} uic
TEXT -720 520 Left 2 !*.step dec PARAM period 1u 100u 30\n.param period=10u duty = 0.5
